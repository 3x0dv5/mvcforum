@using MVCForum.Website.ViewModels
@model SearchViewModel

@{
    Layout = "~/Views/Shared/_LayoutRightSideBar.cshtml";
    ViewBag.Title = Html.Settings().ForumName;
    var totalCount = Convert.ToInt32(Model.TotalCount);
}

@section side
{
    @Html.Action("ListCategorySideMenu", "Category")
    @Html.Action("SideSearch", "Search")
    @Html.Action("PopularTags", "Tag")
    @Html.Action("CurrentWeekHighPointUsers", "Point")
}

<h1>@Html.LanguageString("Search.Searching"): @Model.Term</h1>

@if (Model.Topics.Any())
{

    foreach (var topic in Model.Topics)
    {
        Html.RenderPartial("_Topic", topic);
    }

    if (Model.TotalPages > 1)
    {
        @Html.Pager(Convert.ToInt32(Model.PageIndex), Html.Settings().TopicsPerPage, totalCount, null)
    }
}
else
{
    @Html.LanguageString("Search.NoResults")
}

